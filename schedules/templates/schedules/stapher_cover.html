{% extends "sections/nav.html" %}
{% block page %}
{% if form.errors %}
<div id="form_errors">
	<p>The operation could not be performed because one or more error(s) occurred:</p>
	<p>{{ form.errors.as_text }}</p>
</div>
{% endif %}
<div id="page">
	<h1 id="stapher_schedule_msg">{{schedule_msg}}</h1>
	<a class="button" href='{{ stapher.get_absolute_url }}'>View Stapher</a>
	<a class="button" href="{% url 'schedules:select' %}">Select New Schedule</a>
	<br>
	{% if schedule %}
	<br>
	<h2>Select the days {{stapher.first_name}} needs shifts covered for:</h2>
	<form action="" method='POST' id='form' >{% csrf_token %}
	<div id="cover_days">
		{% for day in days%}
		<label for="id_days_{{forloop.counter0}}"></label>
		<h2 id="day_checkbox">
			{% if day in shifts_to_cover.keys %}
			<input type="checkbox" name="days" value="{{forloop.counter0}}" id="id_days_{{forloop.counter0}}" checked>
			{% else %}
			<input type="checkbox" name="days" value="{{forloop.counter0}}" id="id_days_{{forloop.counter0}}">
			{% endif %}
			{{day}}
		</h2>
		{% endfor %}
	</div>
	{% if shifts_to_cover %}
	<button class='button' id="form_save" type='submit'>Update Days</button>
	{% else %}
	<button class='button' id="form_save" type='submit'>Cover Shifts</button>
	{% endif %}
	</form>
	<br>
	{% for day, shifts in shifts_to_cover.items %}
	<h2>Shifts to Cover on {{day}}:</h2>
	<ul id="uncovered_shift_list">
		{% for shift in shifts %}
		<li>
			{{shift.txt}}
			<a id="uncovered_shift_links" href="">See Staphers</a>
			<a id="uncovered_shift_links" href="">Get Recommendation</a>
		</li>
		{% endfor %}
	</ul>
	{% endfor %} 
	<br>
	{% endif %}
</div>
{% endblock %}